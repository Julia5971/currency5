<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°œë°œì ëª¨ë“œ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .status {
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-weight: bold;
        }
        .enabled {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .disabled {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .log-area {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
            min-height: 100px;
            font-family: monospace;
            white-space: pre-wrap;
        }
        .instructions {
            background-color: #e7f3ff;
            border: 1px solid #b3d9ff;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ê°œë°œì ëª¨ë“œ í…ŒìŠ¤íŠ¸</h1>
        
        <div class="instructions">
            <h3>ğŸ“‹ ì‚¬ìš© ë°©ë²•:</h3>
            <ol>
                <li>ì´ í˜ì´ì§€ë¥¼ ì—´ê³  ê°œë°œì ëª¨ë“œ ìƒíƒœë¥¼ í™•ì¸í•˜ì„¸ìš”</li>
                <li><strong>F12 í‚¤</strong>ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—´ì–´ë³´ì„¸ìš”</li>
                <li>í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ê°œë°œì ëª¨ë“œê°€ ê°ì§€ë©ë‹ˆë‹¤</li>
                <li>ì•„ë˜ ë²„íŠ¼ë“¤ì„ í´ë¦­í•˜ì—¬ ë¡œê·¸ë¥¼ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”</li>
            </ol>
        </div>

        <h2>í˜„ì¬ ìƒíƒœ</h2>
        <div id="status" class="status">í™•ì¸ ì¤‘...</div>

                       <h2>ì„¤ì •</h2>
               <div style="margin-bottom: 20px;">
                   <p>ê°œë°œì ëª¨ë“œëŠ” ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬(F12)ê°€ ì—´ë ¤ìˆì„ ë•Œ ìë™ìœ¼ë¡œ ê°ì§€ë©ë‹ˆë‹¤.</p>
               </div>

        <h2>í…ŒìŠ¤íŠ¸ ë²„íŠ¼</h2>
        <button onclick="testLog()">ë¡œê·¸ í…ŒìŠ¤íŠ¸</button>
        <button onclick="testMultipleArgs()">ë‹¤ì¤‘ ì¸ì í…ŒìŠ¤íŠ¸</button>
        <button onclick="checkStatus()">ìƒíƒœ ì¬í™•ì¸</button>
        <button onclick="clearLog()">ë¡œê·¸ ì§€ìš°ê¸°</button>

        <h2>ë¡œê·¸ ì¶œë ¥</h2>
        <div id="log-area" class="log-area">ë¡œê·¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤...</div>
    </div>

    <script type="module">
        import developerMode from './services/DeveloperModeService.js';

        // ì „ì—­ ë³€ìˆ˜ë¡œ ì„œë¹„ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
        window.devMode = new DeveloperModeService();
        
        // ë¡œê·¸ ì˜ì—­ ì°¸ì¡°
        const logArea = document.getElementById('log-area');
        const statusDiv = document.getElementById('status');

        // ì›ë³¸ console.log ì €ì¥
        const originalConsoleLog = console.log;
        
        // console.logë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì—¬ í™”ë©´ì—ë„ ì¶œë ¥
        console.log = function(...args) {
            // ì›ë³¸ console.log í˜¸ì¶œ
            originalConsoleLog.apply(console, args);
            
            // í™”ë©´ì—ë„ ì¶œë ¥
            const timestamp = new Date().toLocaleTimeString();
            const message = args.map(arg => 
                typeof arg === 'object' ? JSON.stringify(arg, null, 2) : String(arg)
            ).join(' ');
            
            logArea.textContent += `[${timestamp}] ${message}\n`;
            logArea.scrollTop = logArea.scrollHeight;
        };

        // ì´ˆê¸° ìƒíƒœ í™•ì¸
        function updateStatus() {
            const isEnabled = window.devMode.isDeveloperModeEnabled();
            
            // ë””ë²„ê¹… ì •ë³´ ì¶”ê°€
            const heightDiff = window.outerHeight - window.innerHeight;
            const widthDiff = window.outerWidth - window.innerWidth;
            const debugInfo = `\nì°½ í¬ê¸° ì°¨ì´: ë†’ì´ ${heightDiff}px, ë„ˆë¹„ ${widthDiff}px`;
            
            statusDiv.textContent = isEnabled ? 
                `âœ… ê°œë°œì ëª¨ë“œê°€ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤!${debugInfo}` : 
                `âŒ ê°œë°œì ëª¨ë“œê°€ ë¹„í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.${debugInfo}`;
            statusDiv.className = `status ${isEnabled ? 'enabled' : 'disabled'}`;
        }

        // ì „ì—­ í•¨ìˆ˜ë“¤
        window.testLog = function() {
            window.devMode.logIfDeveloperMode('í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ì…ë‹ˆë‹¤!');
        };

        window.testMultipleArgs = function() {
            window.devMode.logIfDeveloperMode('ë‹¤ì¤‘ ì¸ì í…ŒìŠ¤íŠ¸', { 
                timestamp: new Date().toISOString(),
                userAgent: navigator.userAgent,
                windowSize: {
                    outer: { width: window.outerWidth, height: window.outerHeight },
                    inner: { width: window.innerWidth, height: window.innerHeight }
                }
            });
        };

        window.checkStatus = function() {
            updateStatus();
            console.log('ìƒíƒœ ì¬í™•ì¸ ì™„ë£Œ');
        };

        window.clearLog = function() {
            logArea.textContent = 'ë¡œê·¸ê°€ ì§€ì›Œì¡ŒìŠµë‹ˆë‹¤.\n';
        };

        // ì„¤ì • í† ê¸€ í•¨ìˆ˜ë“¤ (ê°„ë‹¨í•œ ë²„ì „)
        window.toggleDevMode = function() {
            const checkbox = document.getElementById('devModeEnabled');
            const isEnabled = checkbox.checked;
            
            console.log(`ê°œë°œì ëª¨ë“œ ${isEnabled ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”'} ì„¤ì •`);
            updateStatus();
        };

        window.toggleAutoDetect = function() {
            const checkbox = document.getElementById('autoDetectEnabled');
            const isEnabled = checkbox.checked;
            
            console.log(`ìë™ ê°ì§€ ${isEnabled ? 'í™œì„±í™”' : 'ë¹„í™œì„±í™”'} ì„¤ì •`);
            updateStatus();
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus();
            console.log('ê°œë°œì ëª¨ë“œ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤.');
            console.log('F12ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ë¥¼ ì—´ì–´ë³´ì„¸ìš”!');
        });

        // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸
        window.addEventListener('resize', function() {
            setTimeout(() => {
                updateStatus();
            }, 100); // ì•½ê°„ì˜ ì§€ì—°ì„ ë‘ì–´ DevToolsê°€ ì™„ì „íˆ ì—´ë¦° í›„ ê°ì§€
        });
    </script>
</body>
</html>
